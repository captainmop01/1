<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>XOLabs</title>
    <!-- CSP ุฏุฑุณุช -->
    <meta http-equiv="Content-Security-Policy" content="default-src * 'unsafe-inline' 'unsafe-eval' data: blob:; script-src * 'self' 'unsafe-inline' 'unsafe-eval' data: blob:; style-src * 'self' 'unsafe-inline' data: blob:;">
    <!-- ุขฺฉูู -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>๐</text></svg>">
</head>
<body>
    <div id="root"></div>
    <!-- ุงู ุงุณฺฉุฑูพุช ูู ููฺฉุงู ูู ฺฏุช ุฑู ูพุดุชุจุงู ูฺฉูู -->
    <script>
        // ุชุดุฎุต ูุญุท
        const isGitHubPages = window.location.hostname.includes('github.io');
        const script = document.createElement('script');
        script.type = 'module';
        
        if (isGitHubPages) {
            // ุจุฑุง ฺฏุชโูุงุจ - ุงุฒ ูุงู build ุดุฏู ุงุณุชูุงุฏู ฺฉู
            script.src = './dist/assets/index.js';
            // ุงฺฏู ูุงู index.js ูุณุชุ ุฏูุจุงู ูุงู ุจุง ูุด ุจฺฏุฑุฏ
            fetch('./dist/assets/')
                .then(() => {
                    // ุงฺฏู ุฏุณุชุฑุณ ูุฏุงุดุชุ ุงุฒ ูุณุฑ ูพุดูุฑุถ ุงุณุชูุงุฏู ฺฉู
                    script.src = './dist/assets/index.js';
                })
                .catch(() => {
                    // ุงฺฏู ูุชููุณุชุ ุจุฐุงุฑ ุฎูุฏ Vite ููุฏู ฺฉูู
                    script.src = './src/main.tsx';
                });
        } else {
            // ุจุฑุง ููฺฉุงู - ุงุฒ ูุงู ุณูุฑุณ ุงุณุชูุงุฏู ฺฉู
            script.src = './src/main.tsx';
        }
        
        document.body.appendChild(script);
    </script>
</body>
</html>
